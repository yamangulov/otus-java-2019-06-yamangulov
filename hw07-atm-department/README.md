Используемые паттерны:

Adapter:
В классе ATMImpl методы accept, dispense, dispenseRest
реализуют адаптер - принимают на вход Map<Banknotes, Integer>
и затем преобразуют входные параметры в Map<Long, Integer>,
которые уже передаются на вход аналогичных методов уже в 
классе DispenserImpl

Mediator:
В классе DepartmentImpl метод dispenseTotalRest вызывает 
метод totalRest у каждого банкомата в департаменте, чтобы получить
сумму остатка с каждого из них и суммировать их в общую сумму 
остатка по департаменту, как и требовалось в задаче - получить 
общую сумму остатка

Memento:
Класс StateMemory реализует сохранение текущего состояния при изменениях
в департаменте и запоминание определенного текущего состояния, когда это
необходимо, по требованию. Это хранилище состояний и набор служебных методов,
которые далее использованы в классе DemparmentImpl  в методах remeberState и
undoState для сохранения состояния департамента и отката состояния до
запомненного состояния. Это требовалось в задаче. Фактически запоминается,
сколько у каждого банкомата было кассет и в каждой из этих кассет сколько
было купюр конкретного номинала.
